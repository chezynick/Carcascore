(this["webpackJsonpcarcassone-scorer"]=this["webpackJsonpcarcassone-scorer"]||[]).push([[0],{33:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n.n(c),r=n(27),s=n.n(r),l=(n(33),n(12)),i=n.p+"static/media/carcascore.ae397ce1.png",o=n(23),u=n(18),d=n(2),j=function(e){var t=e.setShowQuitModal;return Object(d.jsxs)("div",{className:"flex items-center w-full h-24 pt-6 text-yellow-300 bg-gray-800 md:pt-0 justify-evenly",children:[Object(d.jsx)(u.a,{icon:o.a,className:"hidden fill-current md:block",size:"5x"}),Object(d.jsx)("button",{onClick:function(){return t(!0)},className:"fill-current ring-0 focus:outline-none",children:Object(d.jsx)("img",{src:i,alt:"carcascore title"})}),Object(d.jsx)(u.a,{icon:o.a,size:"5x",className:"hidden fill-current md:block"})]})},b=function(e){var t=e.outline,n=e.name,c=e.func,a=e.alternate;return e.disabled?Object(d.jsx)("button",{disabled:!0,onClick:function(){return c()},className:"w-1/2 px-2 py-2 text-center text-gray-600 bg-gray-300 border-2 border-gray-600 rounded-lg ",children:n}):a&&t?Object(d.jsx)("button",{onClick:function(){return c()},className:"w-1/2 py-2 text-center text-yellow-300 bg-black border-2 border-yellow-300 md:w-1/3 md:rounded-lg focus:outline-none ",children:n}):a&&!t?Object(d.jsx)("button",{onClick:function(){return c()},className:"w-1/2 py-2 text-center text-black bg-yellow-300 border-2 border-black outline-none  focus:outline-none md:w-1/3 md:rounded-lg",children:n}):a||t?Object(d.jsx)("button",{onClick:function(){return c()},className:"w-1/2 py-2 text-center text-red-800 bg-gray-100 border-2 border-red-800 rounded-lg md:w-32 ",children:n}):Object(d.jsx)("button",{onClick:function(){return c()},className:"w-1/2 py-2 text-center text-white bg-red-800 border-none rounded-lg outline-none md:w-32 ",children:n})},m=function(e){var t=e.setShowQuitModal;return Object(d.jsxs)("div",{className:"absolute bg-indigo-200 text-black border-2 border-gray-700 mt-40 object-center p-4 sm:p-10  z-50",children:[Object(d.jsx)("h3",{children:"Are you sure you want to quit? all data will be lost"}),Object(d.jsxs)("div",{className:"flex w-full flex-col md:flex-row items-center justify-between mt-8",children:[Object(d.jsx)(b,{name:"Quit",func:function(){window.location.reload()}}),Object(d.jsx)(b,{outline:!0,name:"Cancel",func:function(){return t(!1)}})]})]})},f=function(e){var t=e.setPage;return Object(d.jsx)("div",{className:"w-full flex items-center h-24 font-semibold text-3xl",children:[{name:"New Game",value:"newGame"},{name:"History",value:"history"}].map((function(e){return Object(d.jsx)("nav",{className:"cursor-pointer pl-8",onClick:function(){t(e.value)},children:e.name},e.name)}))})},x=function(e){var t=e.setNumberOfPlayers,n=e.setPage,a=Object(c.useState)(!1),r=Object(l.a)(a,2),s=r[0],i=r[1];return Object(d.jsxs)("div",{className:"flex flex-col w-full h-full items-center text-2xl mt-24",children:[!s&&Object(d.jsxs)("div",{className:"w-full flex justify-center flex-col items-center",children:[Object(d.jsx)("h1",{className:"my-12",children:"Start a new game??"}),Object(d.jsx)(b,{outline:!0,alternate:!0,func:function(){i(!0)},name:"Click here"})]}),s&&Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("h3",{className:"mb-6",children:"How many Players?"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"bg-red-600 mx-4 w-16 h-16 rounded-lg text-white",onClick:function(){n("scoreBoard"),t(2)},children:"2"}),Object(d.jsx)("button",{className:"bg-yellow-300 mx-4 w-16 h-16 rounded-lg text-white",onClick:function(){n("scoreBoard"),t(3)},children:"3"}),Object(d.jsx)("button",{className:"bg-blue-600 mx-4 w-16 h-16 rounded-lg text-white",onClick:function(){n("scoreBoard"),t(4)},children:"4"})]})]})]})},O=n(14),h=n(20),v=n.n(h),w=n(49),y=n(50),g=n(28),p=n(25);n(44);p.a.initializeApp({apiKey:"AIzaSyB43MDnf7d1ExbY9QlOu5F2_jATtdpTZwE",authDomain:"carcascore.firebaseapp.com",projectId:"carcascore",storageBucket:"carcascore.appspot.com",messagingSenderId:"687021321572",appId:"1:687021321572:web:a993ce6859ffcdd04e1e71",measurementId:"G-9ZKW9V7T4K"});var N=p.a,k=function(e){var t,n=e.players,a=Object(c.useState)(!1),r=Object(l.a)(a,2),s=r[0],i=r[1],o=n.sort((function(e,t){return e.score<t.score?1:-1}));return o[0].score===o[1].score&&(t=!0),Object(d.jsx)("div",{className:"w-full md:mt-12 flex flex-col items-center justify-center",children:Object(d.jsxs)("div",{className:" w-full md:w-3/4 bg-indigo-200 text-black font-bold text-5xl py-4 md:py-10 px-4 text-center md:rounded-2xl",children:[t&&Object(d.jsx)("div",{children:"Its a draw"}),!t&&Object(d.jsxs)("div",{className:"flex items-center justify-evenly",children:[Object(d.jsx)(u.a,{icon:g.a,size:"2x",className:"text-black fill-current "})," ",o[0].name," is the winner!!"]}),Object(d.jsx)("div",{className:"md:my-6 flex w-full justify-evenly flex-col ",children:o.map((function(e){return Object(d.jsxs)("div",{className:v()(" w-full  text-gray-800 text-lg flex items-stretch  md:text-4xl  p-8  justify-evenly ",{"bg-yellow-300":"Anne"===e.name,"bg-red-600":"Nick"===e.name,"bg-green-600":"Amanda"===e.name,"bg-blue-600":"Matt"===e.name}),children:[Object(d.jsxs)("div",{className:"w-1/3",children:[e.name,": "]})," ",Object(d.jsx)("div",{children:e.score})]},e.name)}))}),Object(d.jsx)(b,{func:function(){i(!0),N.firestore().collection("scores").add({date:Object(w.a)(Object(y.a)(),"dd-MMM-yyyy"),players:n}).then((function(){window.location.reload()}))},disabled:s,name:s?"Saving":"Save"})]})})},S=function(e){var t=e.player,n=e.changePlayerScore,a=Object(c.useState)(""),r=Object(l.a)(a,2),s=r[0],i=r[1],o=function(){n(t,s),i("")};return Object(d.jsxs)("div",{className:v()("md:w-1/3 w-full  text-gray-800 text-lg md:items-stretch md:mx-10 p-4 mb-4 md:rounded-lg flex flex-col justify-evenly relative",{"bg-yellow-300":"Anne"===t.name,"bg-red-600":"Nick"===t.name,"bg-green-600":"Amanda"===t.name,"bg-blue-600":"Matt"===t.name}),children:[Object(d.jsxs)("div",{className:"w-full text-3xl flex justify-evenly",children:[Object(d.jsx)("p",{children:t.name}),Object(d.jsxs)("p",{children:[t.score," pts"]})," "]}),Object(d.jsx)("input",{type:"numeric",min:"1",max:"99",pattern:"[0-9]*",className:"text-black my-2 md:my-6 outline-none md:py-3  text-center",value:s,maxLength:2,onKeyUp:function(e){"Enter"===e.key&&o()},onChange:function(e){return function(e){e.preventDefault(),i(e.target.value)}(e)}}),Object(d.jsxs)("div",{className:"w-full flex justify-between text-white ",children:[Object(d.jsx)(b,{func:o,name:"Add"}),Object(d.jsx)(b,{func:function(){n(t,s-2*s),i("")},name:"Minus",outline:!0})]})]})},M=function(e){var t=e.setShowQuitModal,n=e.numberOfPlayers,a=Object(c.useState)({name:"Nick",score:0}),r=Object(l.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)({name:"Anne",score:0}),u=Object(l.a)(o,2),j=u[0],m=u[1],f=Object(c.useState)({name:"Amanda",score:0}),x=Object(l.a)(f,2),h=x[0],v=x[1],w=Object(c.useState)({name:"Matt",score:0}),y=Object(l.a)(w,2),g=y[0],p=y[1],N=Object(c.useState)(!1),M=Object(l.a)(N,2),C=M[0],A=M[1],P=[s,j];4===n&&P.push(h,g),3===n&&P.push(h);var B=function(e,t){var n=Number(e.score)+Number(t);e===s&&i(Object(O.a)(Object(O.a)({},e),{},{score:n})),e===j&&m(Object(O.a)(Object(O.a)({},e),{},{score:n})),e===h&&v(Object(O.a)(Object(O.a)({},e),{},{score:n})),e===g&&p(Object(O.a)(Object(O.a)({},e),{},{score:n}))};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"mb-12",children:[!C&&Object(d.jsx)("div",{className:"w-full justify-evenly flex flex-col md:flex-row flex-wrap",children:P.map((function(e){return Object(d.jsx)(S,{player:e,changePlayerScore:B},e.name)}))}),C&&Object(d.jsx)(k,{players:P})]}),Object(d.jsxs)("footer",{className:"w-full flex justify-evenly fixed bottom-0 items-center text-3xl md:mb-4",children:[Object(d.jsx)(b,{func:function(){A(!C)},outline:!0,alternate:!0,name:C?"Go back?":"Complete?"}),Object(d.jsx)(b,{func:function(){t(!0)},alternate:!0,name:"Quit game"})]})]})},C=n(16),A=n.n(C),P=function(){var e,t,n=Object(c.useState)(),a=Object(l.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),u=o[0],j=o[1];Object(c.useEffect)((function(){N.firestore().collection("scores").onSnapshot((function(e){var t=[];e.forEach((function(e){var n=e.data();n.id=e.id,t.push(n)}));var n=t.sort((function(e,t){return A()(e.date).isBefore(A()(t.date))?1:-1}));s(n)}))}),[]);var m=null===r||void 0===r?void 0:r.filter((function(e){return"nick"===e.players[0].name.toLowerCase()})),f=null===r||void 0===r?void 0:r.filter((function(e){return"anne"===e.players[0].name.toLowerCase()})),x=function(e){var t=A()().format("MMMYY");return e.filter((function(e){return A()(e.date).format("MMMYY")===t})).length},h=function(e){var t=A()().subtract(1,"months").format("MMMYY");return e.filter((function(e){return A()(e.date).format("MMMYY")===t})).length},v=function(e){return(null===e||void 0===e?void 0:e.map((function(e){return e.players[0]})).sort((function(e,t){return e.score<t.score?1:-1})))||[]}(r),w=function(e){var t=null===e||void 0===e?void 0:e.map((function(e){var t=e.players[0].score-e.players[1].score;return Object(O.a)(Object(O.a)({},e),{},{margin:t})}));return(null===t||void 0===t?void 0:t.sort((function(e,t){return e.margin<t.margin?1:-1})))||null}(r);return Object(d.jsxs)("div",{className:"w-full px-4 lg:w-3/4",children:[r&&Object(d.jsxs)("div",{className:"p-4",children:[Object(d.jsxs)("div",{children:["Current scores: Nick: ",m.length," - Anne: ",f.length]}),Object(d.jsxs)("div",{children:["This month: Nick: ",x(m)," - Anne: ",x(f)]}),Object(d.jsxs)("div",{children:["Last month: Nick: ",h(m)," - Anne: ",h(f)]}),(null===v||void 0===v?void 0:v.length)>0&&Object(d.jsxs)("div",{children:["Highest winning total: ",null===(e=v[0])||void 0===e?void 0:e.name," - ",null===(t=v[0])||void 0===t?void 0:t.score,"  "]}),(null===w||void 0===w?void 0:w.length)>0&&Object(d.jsxs)("div",{children:["Largest winning margin: ",w[0].players[0].name," beat ",w[0].players[1].name," by ",w[0].margin]})]}),Object(d.jsx)(b,{alternate:!0,func:function(){return j(!u)},name:u?"Hide games":"View all games"}),u&&r&&r.map((function(e){return Object(d.jsx)("div",{className:"flex flex-col w-full lg:w-2/3",children:Object(d.jsxs)("div",{className:"flex flex-row items-center w-full",children:[Object(d.jsx)("h3",{className:"w-1/3 my-2 font-bold",children:e.date}),e.players.map((function(e){return Object(d.jsxs)("div",{className:"flex justify-between w-2/3 px-4",children:[e.name.toLowerCase()," : ",e.score]},e.name.toLowerCase())}))]})},e.id)}))]})};n(46);var B=function(){var e=Object(c.useState)("newGame"),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(),b=Object(l.a)(u,2),O=b[0],h=b[1];return Object(d.jsxs)("div",{className:"bg-black flex flex-col items-center w-full h-auto min-h-screen text-yellow-300",children:[Object(d.jsx)(j,{setShowQuitModal:o}),i&&Object(d.jsx)(m,{setShowQuitModal:o}),"scoreBoard"!==n&&Object(d.jsx)(f,{setPage:a}),Object(d.jsxs)("div",{className:"w-full h-auto",children:["newGame"===n&&Object(d.jsx)(x,{setPage:a,setNumberOfPlayers:h}),"scoreBoard"===n&&Object(d.jsx)("div",{className:"md:mt-12",children:Object(d.jsx)(M,{numberOfPlayers:O,setShowQuitModal:o})}),"history"===n&&Object(d.jsx)(P,{})]})]})};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(B,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.a3db6b0a.chunk.js.map