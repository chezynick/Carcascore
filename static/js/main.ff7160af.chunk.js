(this["webpackJsonpcarcassone-scorer"]=this["webpackJsonpcarcassone-scorer"]||[]).push([[0],{35:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n.n(c),l=n(28),r=n.n(l),s=(n(35),n(13)),i=n.p+"static/media/carcascore.ae397ce1.png",o=n(29),d=n(20),u=n(19),b=n(18),j=n.n(b),m=n(2),x=function(e){var t=e.setShowQuitModal,n=e.lightMode,c=e.setLightMode;return Object(m.jsxs)("div",{className:j()("flex items-center w-full h-24 pt-6  md:pt-0 justify-evenly",{"text-yellow-300 bg-gray-800":!n,"text-gray-700 bg-gray-50 shadow-lg":n}),children:[Object(m.jsx)(u.a,{icon:o.a,className:"hidden fill-current md:block",size:"5x"}),Object(m.jsxs)("button",{onClick:function(){return t(!0)},className:"fill-current ring-0 focus:outline-none",children:[!n&&Object(m.jsx)("img",{src:i,alt:"carcascore title"}),n&&Object(m.jsx)("h1",{className:"text-3xl text-red-400 sm:text-6xl",children:"CarcaScore"})]}),Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("label",{htmlFor:"lightMode",children:n?Object(m.jsx)(u.a,{className:"mr-2 text-black fill-current",icon:d.b}):Object(m.jsx)(u.a,{className:"mr-2 text-yellow-400 fill-current",icon:d.c})})," ",Object(m.jsx)("input",{type:"checkbox",onChange:function(){return c(!n)},name:"lightMode"})]})]})},f=function(e){var t=e.outline,n=e.name,c=e.func,a=e.alternate,l=e.disabled,r=e.lightMode,s=void 0!==r&&r;return Object(m.jsx)("button",{disabled:l,onClick:function(){return c()},className:j()("w-1/2 px-2 py-2 text-center md:rounded-lg  ",{"text-gray-600 bg-gray-300 border-2 border-gray-600":l&&!s,"text-yellow-300 bg-black border-2 border-yellow-300 md:w-1/3  focus:outline-none":a&&t&&!s,"text-black bg-yellow-300 border-2 border-black outline-none  focus:outline-none md:w-1/3 md:rounded-lg":a&&!t&&!s,"text-white bg-red-800 border-none rounded-lg outline-none md:w-32":!a&&!t&&!s,"text-red-800 bg-gray-100 border-2 border-red-800 rounded-lg md:w-32":!a&&t,"text-gray-600 bg-gray-300 shadow-md":l&&s,"text-gray-700 border border-red-700 bg-white":a&&t&&s,"text-gray-700 bg-white shadow-lg outline-none  focus:outline-none md:w-1/3 md:rounded-lg":a&&!t&&s,"text-white bg-gray-500 border-none rounded-lg outline-none md:w-32":!a&&!t&&s}),children:n})},h=function(e){var t=e.setShowQuitModal,n=e.lightMode;return Object(m.jsxs)("div",{className:"absolute z-50 object-center p-4 mt-40 text-black bg-indigo-400 border-2 border-gray-700 sm:p-10",children:[Object(m.jsx)("h3",{children:"Are you sure you want to quit? all data will be lost"}),Object(m.jsxs)("div",{className:"flex flex-col items-center justify-between w-full mt-8 md:flex-row",children:[Object(m.jsx)(f,{lightMode:n,name:"Quit",func:function(){window.location.reload()}}),Object(m.jsx)(f,{lightMode:n,outline:!0,name:"Cancel",func:function(){return t(!1)}})]})]})},O=function(e){var t=e.setPage,n=e.page;return Object(m.jsx)("div",{className:"flex items-center w-full h-24 text-3xl font-semibold",children:[{name:"New Game",value:"newGame"},{name:"History",value:"history"}].map((function(e){return Object(m.jsx)("nav",{className:"cursor-pointer pl-8 ".concat(n===e.value?"underline":""),onClick:function(){t(e.value)},children:e.name},e.name)}))})},g=function(e){var t=e.setNumberOfPlayers,n=e.setPage,a=e.lightMode,l=Object(c.useState)(!1),r=Object(s.a)(l,2),i=r[0],o=r[1];return Object(m.jsxs)("div",{className:"flex flex-col items-center w-full h-full mt-24 text-2xl",children:[!i&&Object(m.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[Object(m.jsx)("h1",{className:"my-12",children:"Start a new game??"}),Object(m.jsx)(f,{lightMode:a,outline:!0,alternate:!0,func:function(){o(!0)},name:"Click here"})]}),i&&Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("h3",{className:"mb-6",children:"How many Players?"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:"w-16 h-16 mx-4 text-white bg-red-600 rounded-lg",onClick:function(){n("scoreBoard"),t(2)},children:"2"}),Object(m.jsx)("button",{className:"w-16 h-16 mx-4 text-white bg-yellow-300 rounded-lg",onClick:function(){n("scoreBoard"),t(3)},children:"3"}),Object(m.jsx)("button",{className:"w-16 h-16 mx-4 text-white bg-blue-600 rounded-lg",onClick:function(){n("scoreBoard"),t(4)},children:"4"})]})]})]})},y=n(15),w=n(21),v=n.n(w),p=n(50),M=n(51),N=n(26);n(46);N.a.initializeApp({apiKey:"AIzaSyB43MDnf7d1ExbY9QlOu5F2_jATtdpTZwE",authDomain:"carcascore.firebaseapp.com",projectId:"carcascore",storageBucket:"carcascore.appspot.com",messagingSenderId:"687021321572",appId:"1:687021321572:web:a993ce6859ffcdd04e1e71",measurementId:"G-9ZKW9V7T4K"});var k=N.a,S=function(e){var t,n=e.players,a=e.lightMode,l=Object(c.useState)(!1),r=Object(s.a)(l,2),i=(r[0],r[1]),o=n.sort((function(e,t){return e.score<t.score?1:-1}));return o[0].score===o[1].score&&(t=!0),Object(m.jsxs)("div",{className:"flex flex-col items-center justify-center w-full md:mt-12",children:[Object(m.jsxs)("div",{className:"w-full px-4 py-4 text-5xl font-bold text-center text-black bg-indigo-200 md:w-3/4 md:py-10 md:rounded-2xl",children:[t&&Object(m.jsx)("div",{children:"Its a draw"}),!t&&Object(m.jsxs)("div",{className:"flex items-center justify-evenly",children:[Object(m.jsx)(u.a,{icon:d.a,size:"2x",className:"text-black fill-current "})," ",o[0].name," is the winner!!"]}),Object(m.jsx)("div",{className:"flex flex-col w-full md:my-6 justify-evenly ",children:o.map((function(e){return Object(m.jsxs)("div",{className:v()(" w-full  text-gray-800 text-lg flex items-stretch  md:text-4xl  p-8  justify-evenly ".concat(a?"opacity-40":""),{"bg-yellow-300":"Anne"===e.name,"bg-red-600":"Nick"===e.name,"bg-green-600":"Amanda"===e.name,"bg-blue-600":"Matt"===e.name}),children:[Object(m.jsxs)("div",{className:"w-1/3",children:[e.name,": "]})," ",Object(m.jsx)("div",{children:e.score})]},e.name)}))}),!1]}),Object(m.jsx)("button",{className:v()("absolute left-0 k bottom-1/3 ",{"text-white bg-white":a,"text-black bg-blac":!a}),type:"button",onClick:function(){return i(!0),void k.firestore().collection("scores").add({date:Object(p.a)(Object(M.a)(),"dd-MMM-yyyy"),players:n}).then((function(){window.location.reload()}))},children:"hello "})]})},C=function(e){var t=e.player,n=e.changePlayerScore,a=e.lightMode,l=Object(c.useState)(""),r=Object(s.a)(l,2),i=r[0],o=r[1],d=function(){n(t,i),o("")};return Object(m.jsxs)("div",{className:v()("md:w-1/3 w-full  text-gray-800 text-lg md:items-stretch md:mx-10 p-4 mb-4 md:rounded-lg flex flex-col justify-evenly relative",{"bg-yellow-300":"Anne"===t.name,"bg-red-600":"Nick"===t.name,"bg-green-600":"Amanda"===t.name,"bg-blue-600":"Matt"===t.name}),children:[Object(m.jsxs)("div",{className:"flex w-full text-3xl justify-evenly",children:[Object(m.jsx)("p",{children:t.name}),Object(m.jsxs)("p",{children:[t.score," pts"]})," "]}),Object(m.jsx)("input",{type:"numeric",min:"1",max:"99",pattern:"[0-9]*",className:"my-2 text-center text-black outline-none md:my-6 md:py-3",value:i,maxLength:2,onKeyUp:function(e){"Enter"===e.key&&d()},onChange:function(e){return function(e){e.preventDefault(),o(e.target.value)}(e)}}),Object(m.jsxs)("div",{className:"flex justify-between w-full text-white ",children:[Object(m.jsx)(f,{lightMode:a,func:d,name:"Add"}),Object(m.jsx)(f,{lightMode:a,func:function(){n(t,i-2*i),o("")},name:"Minus",outline:!0})]})]})},A=function(e){var t=e.setShowQuitModal,n=e.numberOfPlayers,a=e.lightMode,l=Object(c.useState)({name:"Nick",score:0}),r=Object(s.a)(l,2),i=r[0],o=r[1],d=Object(c.useState)({name:"Anne",score:0}),u=Object(s.a)(d,2),b=u[0],j=u[1],x=Object(c.useState)({name:"Amanda",score:0}),h=Object(s.a)(x,2),O=h[0],g=h[1],w=Object(c.useState)({name:"Matt",score:0}),v=Object(s.a)(w,2),p=v[0],M=v[1],N=Object(c.useState)(!1),k=Object(s.a)(N,2),A=k[0],P=k[1],L=[i,b];4===n&&L.push(O,p),3===n&&L.push(O);var Q=function(e,t){var n=Number(e.score)+Number(t);e===i&&o(Object(y.a)(Object(y.a)({},e),{},{score:n})),e===b&&j(Object(y.a)(Object(y.a)({},e),{},{score:n})),e===O&&g(Object(y.a)(Object(y.a)({},e),{},{score:n})),e===p&&M(Object(y.a)(Object(y.a)({},e),{},{score:n}))};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"mb-12",children:[!A&&Object(m.jsx)("div",{className:"flex flex-col flex-wrap w-full justify-evenly md:flex-row",children:L.map((function(e){return Object(m.jsx)(C,{lightMode:a,player:e,changePlayerScore:Q},e.name)}))}),A&&Object(m.jsx)(S,{lightMode:a,players:L})]}),Object(m.jsxs)("footer",{className:"fixed bottom-0 flex items-center w-full text-3xl justify-evenly md:mb-4",children:[Object(m.jsx)(f,{lightMode:a,func:function(){P(!A)},outline:!0,alternate:!0,name:A?"Go back?":"Complete?"}),Object(m.jsx)(f,{lightMode:a,func:function(){t(!0)},alternate:!0,name:"Quit game"})]})]})},P=n(49),L=n(52),Q=function(e){var t,n,a=e.lightMode,l=Object(c.useState)(),r=Object(s.a)(l,2),i=r[0],o=r[1],d=Object(c.useState)(!1),u=Object(s.a)(d,2),b=u[0],j=u[1];Object(c.useEffect)((function(){k.firestore().collection("scores").onSnapshot((function(e){var t=[];e.forEach((function(e){var n=e.data();n.id=e.id,t.push(n)}));var n=t.sort((function(e,t){return Object(P.a)(new Date(e.date),new Date(t.date))?1:-1}));o(n)}))}),[]);var x=null===i||void 0===i?void 0:i.filter((function(e){return"nick"===e.players[0].name.toLowerCase()})),h=null===i||void 0===i?void 0:i.filter((function(e){return"anne"===e.players[0].name.toLowerCase()})),O=function(e){var t=Object(p.a)(Object(M.a)(),"MMMyy");return e.filter((function(e){return Object(p.a)(new Date(e.date),"MMMyy")===t})).length},g=function(e){var t=Object(p.a)(Object(L.a)(Object(M.a)(),1),"MMMyy");return e.filter((function(e){return Object(p.a)(new Date(e.date),"MMMyy")===t})).length},w=function(e){return(null===e||void 0===e?void 0:e.map((function(e){return e.players[0]})).sort((function(e,t){return e.score<t.score?1:-1})))||[]}(i),v=function(e){var t=null===e||void 0===e?void 0:e.map((function(e){var t=e.players[0].score-e.players[1].score;return Object(y.a)(Object(y.a)({},e),{},{margin:t})}));return(null===t||void 0===t?void 0:t.sort((function(e,t){return e.margin<t.margin?1:-1})))||null}(i);return Object(m.jsxs)("div",{className:"w-full px-4 lg:w-3/4",children:[i&&Object(m.jsxs)("div",{className:"p-4",children:[Object(m.jsxs)("div",{children:["Current scores: Nick: ",x.length," - Anne: ",h.length]}),Object(m.jsxs)("div",{children:["This month: Nick: ",O(x)," - Anne: ",O(h)]}),Object(m.jsxs)("div",{children:["Last month: Nick: ",g(x)," - Anne: ",g(h)]}),(null===w||void 0===w?void 0:w.length)>0&&Object(m.jsxs)("div",{children:["Highest winning total: ",null===(t=w[0])||void 0===t?void 0:t.name," - ",null===(n=w[0])||void 0===n?void 0:n.score,"  "]}),(null===v||void 0===v?void 0:v.length)>0&&Object(m.jsxs)("div",{children:["Largest winning margin: ",v[0].players[0].name," beat ",v[0].players[1].name," by ",v[0].margin]}),Object(m.jsx)("div",{children:"Cutest player: Anne"})]}),Object(m.jsx)(f,{lightMode:a,alternate:!0,func:function(){return j(!b)},name:b?"Hide games":"View all games"}),b&&i&&i.map((function(e){return Object(m.jsx)("div",{className:"flex flex-col w-full lg:w-2/3",children:Object(m.jsxs)("div",{className:"flex flex-row items-center w-full",children:[Object(m.jsx)("h3",{className:"w-1/3 my-2 font-bold",children:e.date}),e.players.map((function(e){return Object(m.jsxs)("div",{className:"flex justify-between w-2/3 px-4",children:[e.name.toLowerCase()," : ",e.score]},e.name.toLowerCase())}))]})},e.id)}))]})};n(47);var B=function(){var e=Object(c.useState)("newGame"),t=Object(s.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)(!1),r=Object(s.a)(l,2),i=r[0],o=r[1],d=Object(c.useState)(!1),u=Object(s.a)(d,2),b=u[0],f=u[1],y=Object(c.useState)(),w=Object(s.a)(y,2),v=w[0],p=w[1];return Object(m.jsxs)("div",{className:j()("flex flex-col items-center w-full h-auto min-h-screen ",{"bg-black text-yellow-300":!i,"bg-white text-gray-500":i}),children:[Object(m.jsx)(x,{setShowQuitModal:f,setLightMode:o,lightMode:i}),b&&Object(m.jsx)(h,{setShowQuitModal:f,lightMode:i}),"scoreBoard"!==n&&Object(m.jsx)(O,{setPage:a,page:n,lightMode:i}),Object(m.jsxs)("div",{className:"w-full h-auto",children:["newGame"===n&&Object(m.jsx)(g,{lightMode:i,setPage:a,setNumberOfPlayers:p}),"scoreBoard"===n&&Object(m.jsx)("div",{className:"md:mt-12",children:Object(m.jsx)(A,{lightMode:i,numberOfPlayers:v,setShowQuitModal:f})}),"history"===n&&Object(m.jsx)(Q,{lightMode:i})]})]})};r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(B,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.ff7160af.chunk.js.map